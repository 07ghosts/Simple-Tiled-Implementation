<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="chrome=1" />
		<link rel="stylesheet" href="stylesheets/reset.css" />
		<link rel="stylesheet" href="stylesheets/styles.css" />
		<link rel="stylesheet" href="stylesheets/monokai_sublime.css" />
		<script src="javascripts/highlight/highlight.pack.js"></script>
		<script>
			hljs.configure({tabReplace: '    '});
			hljs.initHighlightingOnLoad();
		</script>
		<title>Simple Tiled Implementation</title>
	</head>
	<body>
		<div id="content">
			<header>
				<h1>Simple Tiled Implementation</h1>
				<p>Simple Tiled Implementation is a <a href="http://mapeditor.org/">Tiled Map Editor</a> library designed for the *awesome* <a href="https://love2d.org/">L&Ouml;VE</a> framework.</p>
				<h3>Navigation</h3>
				<nav>
					<li><a href="#new">STI.new</a></li>
					<li><a href="#addCustomLayer">Map:addCustomLayer</a></li>
					<li><a href="#convertToCustomLayer">Map:convertToCustomLayer</a></li>
					<li><a href="#removeLayer">Map:removeLayer</a></li>
					<li><a href="#update">Map:update</a></li>
					<li><a href="#draw">Map:draw</a></li>
					<li><a href="#drawLayer">Map:drawLayer</a></li>
					<li><a href="#drawTileLayer">Map:drawTileLayer</a></li>
					<li><a href="#drawObjectLayer">Map:drawObjectLayer</a></li>
					<li><a href="#drawImageLayer">Map:drawImageLayer</a></li>
					<li><a href="#createCollisionMap">Map:createCollisionMap</a></li>
					<li><a href="#drawCollisionMap">Map:drawCollisionMap</a></li>
					<li><a href="#callbacks">Callbacks</a></li>
				</nav>
			</header>
			<section>
				<h2><a id="new">STI.new(map)</a></h2>
				<p>Load map</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>map</span> Path to Map File (sans file extension)</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li><span>map</span> Map table</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end</code></pre>
			</section>
			<section>
				<h2><a id="addCustomLayer">Map:addCustomLayer(name, index)</a></h2>
				<p>Create a new custom layer</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>name</span> Name of New Layer</li>
					<li><span>index</span> Position within Layers</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
	
	map:addCustomLayer("Sprite Layer", 2)
end</code></pre>
			</section>
			<section>
				<h2><a id="convertToCustomLayer">Map:convertToCustomLayer(index)</a></h2>
				<p>Convert a layer into a custom layer</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>index</span> Layer Name or Index</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
	
	-- Convert using name
	map:convertToCustomLayer("Sprite Layer")
	
	-- Convert using index
	map:convertToCustomLayer(2)
end</code></pre>
			</section>
			<section>
				<h2><a id="removeLayer">Map:removeLayer(index)</a></h2>
				<p>Remove a layer</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>index</span> Layer Name or Index</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
	
	-- Remove using name
	map:removeLayer("Sprite Layer")
	
	-- Remove using index
	map:removeLayer(2)
end</code></pre>
			</section>
			<section>
				<h2><a id="update">Map:update(dt)</a></h2>
				<p>Updates all layers in order</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>dt</span> Delta Time</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end

function love.update(dt)
	map:update(dt)
end</code></pre>
			</section>
			<section>
				<h2><a id="draw">Map:draw()</a></h2>
				<p>Draws all layers in order</p>
				<h3>Parameters</h3>
				<ul>
					<li>none</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	map:draw()
end</code></pre>
			</section>
			<section>
				<h2><a id="drawLayer">Map:drawLayer(layer)</a></h2>
				<p>Draws layer callback</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>layer</span> Specific Layer to Draw</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	-- Draw using name
	map:drawLayer(map.layers["Sprite Layer"])
	
	-- Draw using index
	map:drawLayer(map.layers[2])
end</code></pre>
			</section>
			<section>
				<h2><a id="drawTileLayer">Map:drawTileLayer(layer)</a></h2>
				<p>Draw default TileLayer (manually set opacity)</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>layer</span> Specific Layer to Draw</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	-- Draw using name
	map:drawTileLayer(map.layers["Ground Layer"])
	
	-- Draw using index
	map:drawTileLayer(map.layers[1])
end</code></pre>
			</section>
			<section>
				<h2><a id="drawObjectLayer">Map:drawObjectLayer(layer)</a></h2>
				<p>Draw default ObjectLayer (manually set opacity)</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>layer</span> Specific Layer to Draw</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	-- Draw using name
	map:drawObjectLayer(map.layers["Polygons"])
	
	-- Draw using index
	map:drawObjectLayer(map.layers[3])
end</code></pre>
			</section>
			<section>
				<h2><a id="drawImageLayer">Map:drawImageLayer(layer)</a></h2>
				<p>Draw default ImageLayer (manually set opacity)</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>layer</span> Specific Layer to Draw</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	-- Draw using name
	map:drawLayer(map.layers["Watermark"])
	
	-- Draw using index
	map:drawLayer(map.layers[4])
end</code></pre>
			</section>
			<section>
				<h2><a id="createCollisionMap">Map:createCollisionMap(index)</a></h2>
				<p>Create a collision map</p>
				<h3>Parameters</h3>
				<ul>
					<li><span>index</span> Layer Name or Index</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
	
	-- Create using name
	map:createCollisionMap("Collision Layer")
	
	-- Create using index
	map:createCollisionMap(5)
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	map:draw()
end</code></pre>
			</section>
			<section>
				<h2><a id="drawCollisionMap">Map:drawCollisionMap()</a></h2>
				<p>Draws the collision map (useful for debugging)</p>
				<h3>Parameters</h3>
				<ul>
					<li>none</li>
				</ul>
				<h3>Returns</h3>
				<ul>
					<li>none</li>
				</ul>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
	
	-- Create using name
	map:createCollisionMap("Collision Layer")
	
	-- Create using index
	map:createCollisionMap(5)
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	map:draw()
	
	map:drawCollisionMap()
end</code></pre>
			</section>
			<section>
				<h2><a id="callbacks">Callbacks</a></h2>
				<p>update, draw</p>
				<pre><code class="language-lua">local sti = require "libs.sti"

function love.load()
	map = sti.new("assets/maps/map01")
	map:addCustomLayer("Sprite Layer", 2)
	
	local spriteLayer = map.layers["Sprite Layer"]
	
	-- Add data to layer
	spriteLayer.sprite = {
		image = love.graphics.newImage("assets/sprites/pickle.png"),
		x = 128,
		y = 128,
		r = 0,
	}
	
	-- Override Draw callback
	function spriteLayer:draw()
		local x = math.floor(self.sprite.x)
		local y = math.floor(self.sprite.y)
		local r = math.rad(self.sprite.r)
		
		love.graphics.draw(self.sprite.image, x, y, r)
	end
	
	-- Override Update callback
	function spriteLayer:update(dt)
		self.sprite.r = self.sprite.r + 90 * dt
	end
end

function love.update(dt)
	map:update(dt)
end

function love.draw()
	map:draw()
end</code></pre>
			</section>
		</div>
		<footer>
			<span>&copy; 2014 Landon Manning |</span>
			<span>Published with <a href="http://pages.github.com" target="_new">GitHub Pages</a> |</span>
			<span><a href="https://github.com/karai17/Simple-Tiled-Implementation">View On GitHub</a> |</span>
			<span><a href="https://github.com/karai17/Simple-Tiled-Implementation/zipball/master">ZIP</a> |</span>
			<span><a href="https://github.com/karai17/Simple-Tiled-Implementation/tarball/master">TAR</a></span>
		</footer>
	</body>
</html>